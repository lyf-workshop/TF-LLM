# KORGym åˆ†å±‚ç»éªŒå­¦ä¹ é€‚é…æ–¹æ¡ˆ ğŸ®

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜å¦‚ä½•å°†**åˆ†å±‚ç»éªŒå­¦ä¹ ç³»ç»Ÿï¼ˆL0/L1/L2ï¼‰**åº”ç”¨åˆ° **KORGym** æ¸¸æˆå¹³å°ï¼Œå¸®åŠ©å¤§æ¨¡å‹åœ¨50+ç§æ¸¸æˆä¸­æ€»ç»“ç»éªŒå¹¶æå‡æ­£ç¡®ç‡ã€‚

---

## ğŸ¯ ä¸€ã€KORGym ä»»åŠ¡ç‰¹ç‚¹åˆ†æ

### 1.1 ä»»åŠ¡ç±»å‹

æ ¹æ®è®ºæ–‡ï¼ŒKORGym åŒ…å«ï¼š

- **6ä¸ªæ¨ç†ç»´åº¦**ï¼š
  1. æ•°å­¦ä¸é€»è¾‘æ¨ç†ï¼ˆMath & Logicï¼‰
  2. æ§åˆ¶äº¤äº’æ¨ç†ï¼ˆControl & Interactionï¼‰
  3. è°œé¢˜æ¨ç†ï¼ˆPuzzleï¼‰
  4. ç©ºé—´ä¸å‡ ä½•æ¨ç†ï¼ˆSpatial & Geometricï¼‰
  5. æˆ˜ç•¥æ¨ç†ï¼ˆStrategicï¼‰
  6. å¤šæ¨¡æ€æ¨ç†ï¼ˆMultimodalï¼‰

- **50+ ç§æ¸¸æˆ**ï¼šæ¯ç§æ¸¸æˆéƒ½æœ‰ç‹¬ç‰¹çš„è§„åˆ™å’ŒæŒ‘æˆ˜

- **å¤šè½®äº¤äº’**ï¼šæ”¯æŒå¤šè½®å¯¹è¯å’ŒçŠ¶æ€è¿½è¸ª

- **å¼ºåŒ–å­¦ä¹ æ”¯æŒ**ï¼šå¯ä»¥ä¸ç¯å¢ƒäº¤äº’å¹¶æ¥æ”¶åé¦ˆ

### 1.2 ä¸ç°æœ‰ç³»ç»Ÿçš„å¯¹æ¯”

| ç»´åº¦ | ZebraLogicï¼ˆå½“å‰ï¼‰ | KORGymï¼ˆç›®æ ‡ï¼‰ |
|------|-------------------|----------------|
| **ä»»åŠ¡ç±»å‹** | å•ä¸€é€»è¾‘æ¨ç† | 6ç±»50+æ¸¸æˆ |
| **äº¤äº’æ–¹å¼** | å•è½®é—®ç­” | å¤šè½®äº¤äº’ |
| **çŠ¶æ€ç®¡ç†** | æ— çŠ¶æ€ | æœ‰çŠ¶æ€ï¼ˆæ¸¸æˆçŠ¶æ€ï¼‰ |
| **åé¦ˆæœºåˆ¶** | æœ€ç»ˆç­”æ¡ˆéªŒè¯ | æ¯è½®åŠ¨ä½œåé¦ˆ |
| **éš¾åº¦æ§åˆ¶** | å›ºå®šéš¾åº¦ | å¯é…ç½®éš¾åº¦ç­‰çº§ |

---

## ğŸ—ï¸ äºŒã€é€‚é…æ–¹æ¡ˆè®¾è®¡

### 2.1 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              KORGym åˆ†å±‚ç»éªŒå­¦ä¹ ç³»ç»Ÿ                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  KORGym      â”‚      â”‚  åˆ†å±‚ç»éªŒ     â”‚                â”‚
â”‚  â”‚  æ¸¸æˆç¯å¢ƒ    â”‚â—„â”€â”€â”€â”€â–ºâ”‚  ç®¡ç†å™¨       â”‚                â”‚
â”‚  â”‚  (Gymnasium) â”‚      â”‚  (Hierarchicalâ”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   Experience)â”‚                â”‚
â”‚         â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚         â”‚                       â–²                       â”‚
â”‚         â–¼                       â”‚                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  Agent       â”‚      â”‚  ç»éªŒèšåˆ     â”‚                â”‚
â”‚  â”‚  æ‰§è¡Œå™¨      â”‚â”€â”€â”€â”€â”€â–ºâ”‚  (L0â†’L1â†’L2)  â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 åˆ†å±‚ç»éªŒæ˜ å°„

#### **L0 å±‚ï¼šæ¸¸æˆå›åˆçº§ç»éªŒ**

**è§¦å‘æ—¶æœº**ï¼šæ¯ä¸ªæ¸¸æˆå›åˆç»“æŸå

**ç»éªŒæ¥æº**ï¼š
- å•æ¬¡æ¸¸æˆå›åˆçš„å®Œæ•´è½¨è¿¹
- åŠ¨ä½œåºåˆ—å’Œåé¦ˆ
- é”™è¯¯åˆ†æå’Œå¤±è´¥åŸå› 

**ç¤ºä¾‹**ï¼š
```
æ¸¸æˆï¼š2048
å›åˆIDï¼šgame_2048_round_1
L0ç»éªŒï¼š
"åœ¨2048æ¸¸æˆä¸­ï¼Œä¼˜å…ˆåˆå¹¶è§’è½çš„æ•°å­—å—ï¼Œé¿å…å°†å¤§æ•°å­—å—ç§»åŠ¨åˆ°ä¸­é—´ä½ç½®ï¼Œ
è¿™ä¼šå¯¼è‡´åç»­æ— æ³•ç»§ç»­åˆå¹¶ã€‚åœ¨ç§»åŠ¨å‰å…ˆè§‚å¯Ÿæ‰€æœ‰å¯èƒ½çš„åˆå¹¶è·¯å¾„ã€‚"
```

#### **L1 å±‚ï¼šæ¸¸æˆç±»å‹çº§ç­–ç•¥**

**è§¦å‘æ—¶æœº**ï¼šæ¯ç§¯ç´¯ 5 ä¸ªåŒä¸€æ¸¸æˆç±»å‹çš„ L0 ç»éªŒ

**ç»éªŒæ¥æº**ï¼š
- åŒä¸€æ¸¸æˆï¼ˆå¦‚ 2048ï¼‰çš„å¤šä¸ªå›åˆ
- æˆ–åŒä¸€æ¨ç†ç»´åº¦ï¼ˆå¦‚æˆ˜ç•¥æ¨ç†ï¼‰çš„å¤šä¸ªæ¸¸æˆ

**ç¤ºä¾‹**ï¼š
```
æ¸¸æˆç±»å‹ï¼šæˆ˜ç•¥æ¨ç†ç±»ï¼ˆ2048, Trust Evolution, N pointï¼‰
L1ç»éªŒï¼š
"åœ¨éœ€è¦é•¿æœŸè§„åˆ’çš„æˆ˜ç•¥æ¸¸æˆä¸­ï¼Œåº”è¯¥ï¼š
1. ä¼˜å…ˆè€ƒè™‘æœªæ¥3-5æ­¥çš„åæœ
2. é¿å…çŸ­è§†çš„å±€éƒ¨æœ€ä¼˜è§£
3. ä¿æŒèµ„æº/çŠ¶æ€çš„çµæ´»æ€§
4. å»ºç«‹é¢„æµ‹æ¨¡å‹è¯„ä¼°ä¸åŒç­–ç•¥çš„é•¿æœŸæ”¶ç›Š"
```

#### **L2 å±‚ï¼šè·¨æ¸¸æˆå…ƒç­–ç•¥**

**è§¦å‘æ—¶æœº**ï¼šæ¯ç§¯ç´¯ 3 ä¸ªä¸åŒæ¸¸æˆç±»å‹çš„ L1 ç»éªŒ

**ç»éªŒæ¥æº**ï¼š
- è·¨æ¨ç†ç»´åº¦çš„ L1 ç­–ç•¥
- å¯¹åº”çš„æ‰€æœ‰æº L0 æ¡ˆä¾‹

**ç¤ºä¾‹**ï¼š
```
L2ç»éªŒï¼š
"Principle: åœ¨å¤æ‚æ¨ç†ä»»åŠ¡ä¸­ï¼Œå»ºç«‹æ˜¾å¼çš„çŠ¶æ€è¡¨ç¤ºå’Œé¢„æµ‹æ¨¡å‹
Why: æ˜¾å¼è¡¨ç¤ºå‡å°‘è®¤çŸ¥è´Ÿè½½ï¼Œé¢„æµ‹æ¨¡å‹å¸®åŠ©è¯„ä¼°é•¿æœŸåæœ
When: é€‚ç”¨äºéœ€è¦å¤šæ­¥æ¨ç†ã€çŠ¶æ€ä¾èµ–ã€é•¿æœŸè§„åˆ’çš„ä»»åŠ¡
Benefits: 
  - æé«˜å†³ç­–è´¨é‡
  - å‡å°‘çŸ­è§†é”™è¯¯
  - å¢å¼ºç­–ç•¥å¯è§£é‡Šæ€§
Examples: 2048ï¼ˆçŠ¶æ€=æ£‹ç›˜å¸ƒå±€ï¼‰ï¼ŒTrust Evolutionï¼ˆçŠ¶æ€=ä¿¡ä»»ç½‘ç»œï¼‰ï¼Œ
          N pointï¼ˆçŠ¶æ€=å½“å‰å¾—åˆ†å’Œå‰©ä½™æœºä¼šï¼‰"
```

---

## ğŸ”§ ä¸‰ã€æŠ€æœ¯å®ç°æ–¹æ¡ˆ

### 3.1 æ–°å¢ç»„ä»¶

#### **1. KORGym æ¸¸æˆé€‚é…å™¨**

```python
# utu/practice/korgym_adapter.py

class KORGymAdapter:
    """é€‚é… KORGym æ¸¸æˆç¯å¢ƒåˆ°åˆ†å±‚ç»éªŒå­¦ä¹ ç³»ç»Ÿ"""
    
    def __init__(self, game_name: str, difficulty: str):
        self.game_name = game_name
        self.difficulty = difficulty
        self.game_env = None  # Gymnasium ç¯å¢ƒ
        self.game_state = None
        
    async def play_one_round(self, agent) -> Dict:
        """æ‰§è¡Œä¸€è½®æ¸¸æˆï¼Œè¿”å›è½¨è¿¹å’Œç»éªŒ"""
        trajectory = []
        actions = []
        rewards = []
        
        # åˆå§‹åŒ–æ¸¸æˆ
        obs = self.game_env.reset()
        
        while not self.game_env.is_done():
            # Agent é€‰æ‹©åŠ¨ä½œ
            action = await agent.choose_action(obs, self.game_state)
            actions.append(action)
            
            # æ‰§è¡ŒåŠ¨ä½œ
            next_obs, reward, done, info = self.game_env.step(action)
            rewards.append(reward)
            trajectory.append({
                'observation': obs,
                'action': action,
                'reward': reward,
                'next_observation': next_obs,
                'info': info
            })
            
            obs = next_obs
            self.game_state = info.get('state', None)
        
        # è®¡ç®—æœ€ç»ˆç»“æœ
        final_score = self.game_env.get_final_score()
        success = self.game_env.is_success()
        
        return {
            'game_name': self.game_name,
            'trajectory': trajectory,
            'actions': actions,
            'rewards': rewards,
            'final_score': final_score,
            'success': success,
            'round_id': f"{self.game_name}_{self.difficulty}_{int(time.time())}"
        }
    
    def extract_l0_experience(self, round_result: Dict) -> str:
        """ä»æ¸¸æˆå›åˆç»“æœä¸­æå– L0 ç»éªŒ"""
        if round_result['success']:
            # æˆåŠŸæ¡ˆä¾‹ï¼šæ€»ç»“æˆåŠŸç­–ç•¥
            return self._extract_success_experience(round_result)
        else:
            # å¤±è´¥æ¡ˆä¾‹ï¼šåˆ†æå¤±è´¥åŸå› 
            return self._extract_failure_experience(round_result)
```

#### **2. æ¸¸æˆç±»å‹åˆ†ç±»å™¨**

```python
# utu/practice/korgym_game_classifier.py

GAME_CATEGORIES = {
    'math_logic': ['2048', 'Sudoku', 'Kakuro', ...],
    'control_interaction': ['Trust Evolution', 'Circle the cat', ...],
    'puzzle': ['Spider Solitaire', 'N point', ...],
    'spatial_geometric': ['Spatial Puzzle', ...],
    'strategic': ['2048', 'Trust Evolution', 'N point', ...],
    'multimodal': ['Visual Puzzle', ...]
}

class KORGymGameClassifier:
    """å°†æ¸¸æˆåˆ†ç±»åˆ°æ¨ç†ç»´åº¦"""
    
    @staticmethod
    def get_category(game_name: str) -> str:
        """è¿”å›æ¸¸æˆæ‰€å±çš„æ¨ç†ç»´åº¦"""
        for category, games in GAME_CATEGORIES.items():
            if game_name in games:
                return category
        return 'unknown'
    
    @staticmethod
    def get_primary_category(game_name: str) -> str:
        """è¿”å›æ¸¸æˆçš„ä¸»è¦æ¨ç†ç»´åº¦ï¼ˆä¸€ä¸ªæ¸¸æˆå¯èƒ½å±äºå¤šä¸ªç»´åº¦ï¼‰"""
        # å®ç°ä¼˜å…ˆçº§é€»è¾‘
        ...
```

#### **3. å¤šè½®äº¤äº’ç»éªŒæå–å™¨**

```python
# utu/practice/korgym_experience_extractor.py

class KORGymExperienceExtractor:
    """ä»å¤šè½®æ¸¸æˆäº¤äº’ä¸­æå–ç»éªŒ"""
    
    def __init__(self, llm_client):
        self.llm = llm_client
        
    async def extract_l0_from_round(
        self, 
        round_result: Dict,
        game_category: str
    ) -> str:
        """ä»å•è½®æ¸¸æˆç»“æœæå– L0 ç»éªŒ"""
        
        prompt = f"""
åˆ†æä»¥ä¸‹æ¸¸æˆå›åˆï¼Œæå–å…³é”®ç»éªŒæ•™è®­ï¼š

æ¸¸æˆï¼š{round_result['game_name']}
ç±»å‹ï¼š{game_category}
æˆåŠŸï¼š{round_result['success']}
æœ€ç»ˆå¾—åˆ†ï¼š{round_result['final_score']}

åŠ¨ä½œåºåˆ—ï¼š
{self._format_actions(round_result['actions'])}

å¥–åŠ±åºåˆ—ï¼š
{self._format_rewards(round_result['rewards'])}

è¯·æå–ä¸€æ¡å…·ä½“çš„ç»éªŒæ•™è®­ï¼ŒåŒ…æ‹¬ï¼š
1. å…³é”®é”™è¯¯æˆ–æˆåŠŸç­–ç•¥
2. å…·ä½“çš„æ”¹è¿›å»ºè®®
3. é€‚ç”¨çš„æ¸¸æˆçŠ¶æ€

æ ¼å¼ï¼š
[L0-Case] ç»éªŒæ ‡é¢˜: å…·ä½“å†…å®¹...
"""
        
        response = await self.llm.generate(prompt)
        return response.strip()
    
    def _format_actions(self, actions: List) -> str:
        """æ ¼å¼åŒ–åŠ¨ä½œåºåˆ—"""
        return "\n".join([f"Step {i+1}: {action}" for i, action in enumerate(actions)])
    
    def _format_rewards(self, rewards: List) -> str:
        """æ ¼å¼åŒ–å¥–åŠ±åºåˆ—"""
        return "\n".join([f"Step {i+1}: {reward}" for i, reward in enumerate(rewards)])
```

### 3.2 ä¿®æ”¹ç°æœ‰ç»„ä»¶

#### **ä¿®æ”¹ HierarchicalExperienceManager**

```python
# utu/practice/hierarchical_experience_manager.py

class HierarchicalExperienceManager:
    # ... ç°æœ‰ä»£ç  ...
    
    async def add_korgym_l0_experience(
        self,
        game_name: str,
        game_category: str,
        round_result: Dict,
        experience_content: str
    ):
        """æ·»åŠ æ¥è‡ª KORGym æ¸¸æˆçš„ L0 ç»éªŒ"""
        l0_exp = {
            'id': f"L0-{len(self.l0_experiences)}",
            'game_name': game_name,
            'game_category': game_category,
            'round_id': round_result['round_id'],
            'content': experience_content,
            'level': 'L0-Case',
            'success': round_result['success'],
            'final_score': round_result['final_score'],
            'timestamp': datetime.now().isoformat()
        }
        
        self.l0_experiences.append(l0_exp)
        
        # æ£€æŸ¥æ˜¯å¦è§¦å‘ L1 èšåˆï¼ˆæŒ‰æ¸¸æˆç±»å‹ï¼‰
        self._check_l1_aggregation_by_category(game_category)
    
    def _check_l1_aggregation_by_category(self, category: str):
        """æ£€æŸ¥åŒä¸€æ¸¸æˆç±»å‹æ˜¯å¦è¾¾åˆ° L1 èšåˆé˜ˆå€¼"""
        category_l0s = [
            exp for exp in self.l0_experiences
            if exp.get('game_category') == category
        ]
        
        if len(category_l0s) >= self.h_config.l1_aggregation_threshold:
            # è§¦å‘è¯¥æ¸¸æˆç±»å‹çš„ L1 èšåˆ
            asyncio.create_task(self._aggregate_l1_for_category(category))
    
    async def _aggregate_l1_for_category(self, category: str):
        """ä¸ºç‰¹å®šæ¸¸æˆç±»å‹èšåˆ L1 ç»éªŒ"""
        category_l0s = [
            exp for exp in self.l0_experiences
            if exp.get('game_category') == category
        ][-self.h_config.l1_aggregation_threshold:]
        
        # ä½¿ç”¨ LLM èšåˆ
        l1_content = await self._generate_l1_from_l0(category_l0s, category)
        
        l1_exp = {
            'id': f"L1-{len(self.l1_experiences)}",
            'content': l1_content,
            'level': 'L1-Pattern',
            'game_category': category,
            'source_l0_ids': [exp['id'] for exp in category_l0s],
            'timestamp': datetime.now().isoformat()
        }
        
        self.l1_experiences.append(l1_exp)
        
        # æ£€æŸ¥æ˜¯å¦è§¦å‘ L2 èšåˆ
        if len(self.l1_experiences) % self.h_config.l2_aggregation_threshold == 0:
            await self._aggregate_l1_to_l2()
```

### 3.3 é…ç½®æ–‡ä»¶

#### **KORGym è®­ç»ƒé…ç½®**

```yaml
# configs/practice/korgym_hierarchical_num1.yaml

defaults:
  - practice: base
  - agent: practice/logic_agent_hierarchical_learning_clean
  - eval: logic/easy_base_hierarchical_clean

exp_id: korgym_hierarchical_num1

data:
  practice_dataset_name: KORGym-Strategic-20  # æˆ˜ç•¥æ¨ç†ç±»20ä¸ªæ¸¸æˆ
  eval_dataset_name: KORGym-Strategic-10

evaluation:
  data:
    dataset: KORGym-Strategic-10

hierarchical_learning:
  enabled: true
  l1_aggregation_threshold: 5  # æ¯5ä¸ªL0èšåˆä¸€ä¸ªL1
  l2_aggregation_threshold: 3   # æ¯3ä¸ªL1èšåˆä¸€ä¸ªL2
  max_l0_per_game: 3          # æ¯ä¸ªæ¸¸æˆæœ€å¤š3ä¸ªL0
  max_l0_recent: 50           # ä¿ç•™æœ€è¿‘50ä¸ªL0
  
  # KORGym ç‰¹å®šé…ç½®
  korgym:
    enabled: true
    game_categories:
      - strategic
      - math_logic
      - puzzle
    difficulty_levels:
      - easy
      - medium
    multi_turn: true           # æ”¯æŒå¤šè½®äº¤äº’
    state_tracking: true       # è¿½è¸ªæ¸¸æˆçŠ¶æ€
    
  experience_save_path: workspace/hierarchical_experiences/korgym_hierarchical_num1.json
  agent_save_path: configs/agents/practice/korgym_hierarchical_num1_agent.yaml
```

---

## ğŸ“Š å››ã€ç»éªŒç”Ÿæˆæµç¨‹

### 4.1 å®Œæ•´è®­ç»ƒæµç¨‹

```
é˜¶æ®µ1ï¼šæ¸¸æˆå›åˆæ‰§è¡Œ
â”œâ”€â”€ é€‰æ‹©æ¸¸æˆï¼ˆå¦‚ 2048ï¼‰
â”œâ”€â”€ åˆå§‹åŒ–æ¸¸æˆç¯å¢ƒ
â”œâ”€â”€ Agent æ‰§è¡Œå¤šè½®åŠ¨ä½œ
â”œâ”€â”€ æ”¶é›†è½¨è¿¹å’Œåé¦ˆ
â””â”€â”€ ç”Ÿæˆ L0 ç»éªŒ

é˜¶æ®µ2ï¼šL1 èšåˆï¼ˆæ¯5ä¸ªL0ï¼‰
â”œâ”€â”€ è¯†åˆ«åŒä¸€æ¸¸æˆç±»å‹
â”œâ”€â”€ LLM æŠ½è±¡é€šç”¨ç­–ç•¥
â””â”€â”€ ä¿å­˜ L1 ç»éªŒ

é˜¶æ®µ3ï¼šL2 èšåˆï¼ˆæ¯3ä¸ªL1ï¼‰
â”œâ”€â”€ æ”¶é›†è·¨æ¸¸æˆç±»å‹çš„ L1
â”œâ”€â”€ æ”¶é›†å¯¹åº”çš„æ‰€æœ‰ L0
â”œâ”€â”€ LLM æç‚¼å…ƒç­–ç•¥
â””â”€â”€ ä¿å­˜ L2 ç»éªŒ

é˜¶æ®µ4ï¼šç»éªŒåº“ç”Ÿæˆ
â”œâ”€â”€ æ•´åˆ L0/L1/L2
â”œâ”€â”€ æŒ‰å±‚æ¬¡æ’åº
â”œâ”€â”€ æ·»åŠ æ¸¸æˆç±»å‹æ ‡ç­¾
â””â”€â”€ ç”Ÿæˆæœ€ç»ˆé…ç½®æ–‡ä»¶
```

### 4.2 ç»éªŒæ ¼å¼ç¤ºä¾‹

```yaml
agent:
  instructions: |
    You are an expert game-playing agent. When solving KORGym games, 
    you MUST first read and understand the following experiences:
    
    [G0]. [L2-Meta] Cross-game strategic planning: In games requiring 
    long-term planning (2048, Trust Evolution, N point), establish 
    explicit state representations and prediction models. This reduces 
    cognitive load and helps evaluate long-term consequences...
    
    [G1]. [L2-Meta] Resource management principle: In games with limited 
    resources or moves, prioritize flexibility over immediate gains...
    
    [G2]. [L1-Pattern] Strategic reasoning games: When playing strategic 
    games, consider 3-5 steps ahead, avoid local optima, maintain state 
    flexibility, and build prediction models...
    
    [G3]. [L1-Pattern] Math logic games: In mathematical reasoning games, 
    systematically break down problems, verify each step, and check 
    constraints...
    
    [G4]. [L0-Case] 2048 corner strategy: In 2048, prioritize merging 
    tiles in corners, avoid moving large tiles to the center, and observe 
    all possible merge paths before moving...
    
    [G5]. [L0-Case] Trust Evolution network building: In Trust Evolution, 
    gradually build trust networks, avoid early aggressive moves, and 
    maintain balanced relationships...
    
    ...
```

---

## ğŸ¯ äº”ã€é¢„æœŸæ•ˆæœ

### 5.1 æ€§èƒ½æå‡é¢„æµ‹

åŸºäºè®ºæ–‡ä¸­çš„å®éªŒç»“æœå’Œæˆ‘ä»¬çš„åˆ†å±‚ç»éªŒå­¦ä¹ ç³»ç»Ÿï¼š

| æ¨¡å‹ç±»å‹ | Baseline | æ‰å¹³ç»éªŒ | åˆ†å±‚ç»éªŒï¼ˆé¢„æµ‹ï¼‰ |
|---------|----------|---------|-----------------|
| **é—­æºæ¨¡å‹** | 60-70% | 65-75% | **70-80%** â¬†ï¸ |
| **å¼€æºæ¨¡å‹** | 40-50% | 45-55% | **50-65%** â¬†ï¸ |
| **æ€ç»´æ¨¡å‹** | 65-75% | 70-80% | **75-85%** â¬†ï¸ |

### 5.2 å…³é”®ä¼˜åŠ¿

1. **è·¨æ¸¸æˆæ³›åŒ–**ï¼šL2 å…ƒç­–ç•¥å¯åº”ç”¨äºå¤šä¸ªæ¸¸æˆç±»å‹
2. **å¿«é€Ÿé€‚åº”**ï¼šL0 ç»éªŒå¸®åŠ©å¿«é€Ÿå­¦ä¹ æ–°æ¸¸æˆ
3. **ç­–ç•¥å¯è§£é‡Š**ï¼šåˆ†å±‚ç»“æ„ä¾¿äºç†è§£å’Œè°ƒè¯•
4. **æŒç»­æ”¹è¿›**ï¼šéšç€æ¸¸æˆæ•°é‡å¢åŠ ï¼Œç»éªŒåº“ä¸æ–­ä¼˜åŒ–

---

## ğŸš€ å…­ã€å®æ–½æ­¥éª¤

### æ­¥éª¤ 1ï¼šç¯å¢ƒå‡†å¤‡

```bash
# 1. å®‰è£… KORGym
pip install korgym  # å‡è®¾æœ‰å®˜æ–¹åŒ…ï¼Œæˆ–ä» GitHub å®‰è£…

# 2. å‡†å¤‡æ¸¸æˆæ•°æ®é›†
python scripts/data/load_korgym_dataset.py \
  --categories strategic math_logic puzzle \
  --difficulty easy medium \
  --output KORGym-Strategic-20
```

### æ­¥éª¤ 2ï¼šå®ç°é€‚é…å™¨

```bash
# åˆ›å»ºé€‚é…å™¨æ–‡ä»¶
touch utu/practice/korgym_adapter.py
touch utu/practice/korgym_game_classifier.py
touch utu/practice/korgym_experience_extractor.py

# å®ç°æ ¸å¿ƒé€»è¾‘ï¼ˆå‚è€ƒä¸Šé¢çš„ä»£ç ç¤ºä¾‹ï¼‰
```

### æ­¥éª¤ 3ï¼šä¿®æ”¹é…ç½®

```bash
# åˆ›å»º KORGym è®­ç»ƒé…ç½®
cp configs/practice/medium_reasoning_hierarchical_num1.yaml \
   configs/practice/korgym_hierarchical_num1.yaml

# ä¿®æ”¹é…ç½®ï¼ˆå‚è€ƒä¸Šé¢çš„é…ç½®ç¤ºä¾‹ï¼‰
```

### æ­¥éª¤ 4ï¼šè¿è¡Œè®­ç»ƒ

```bash
# è¿è¡Œåˆ†å±‚ç»éªŒå­¦ä¹ è®­ç»ƒ
uv run python scripts/run_training_free_GRPO.py \
  --config_name korgym_hierarchical_num1
```

### æ­¥éª¤ 5ï¼šè¯„ä¼°æ•ˆæœ

```bash
# è¯„ä¼°è®­ç»ƒåçš„ agent
uv run python scripts/run_eval.py \
  --config_name korgym/korgym_hierarchical_num1_eval
```

---

## ğŸ“ ä¸ƒã€æ³¨æ„äº‹é¡¹

### 7.1 æ¸¸æˆçŠ¶æ€ç®¡ç†

- **çŠ¶æ€æŒä¹…åŒ–**ï¼šå¤šè½®æ¸¸æˆéœ€è¦ä¿å­˜ä¸­é—´çŠ¶æ€
- **çŠ¶æ€è¡¨ç¤º**ï¼šä¸åŒæ¸¸æˆçš„çŠ¶æ€æ ¼å¼å¯èƒ½ä¸åŒï¼Œéœ€è¦ç»Ÿä¸€æ¥å£

### 7.2 ç»éªŒå»é‡

- **æ¸¸æˆç‰¹å®šå»é‡**ï¼šåŒä¸€æ¸¸æˆçš„ç›¸ä¼¼å›åˆå¯èƒ½äº§ç”Ÿé‡å¤ç»éªŒ
- **è·¨æ¸¸æˆå»é‡**ï¼šä¸åŒæ¸¸æˆä½†ç­–ç•¥ç›¸ä¼¼çš„ç»éªŒéœ€è¦åˆå¹¶

### 7.3 è®¡ç®—èµ„æº

- **å¤šè½®äº¤äº’æˆæœ¬**ï¼šæ¯ä¸ªæ¸¸æˆå›åˆéœ€è¦å¤šæ¬¡ LLM è°ƒç”¨
- **æ‰¹é‡å¤„ç†**ï¼šè€ƒè™‘æ‰¹é‡æ‰§è¡Œå¤šä¸ªæ¸¸æˆå›åˆä»¥æé«˜æ•ˆç‡

### 7.4 è¯„ä¼°æŒ‡æ ‡

- **æ¸¸æˆç‰¹å®šæŒ‡æ ‡**ï¼šæ¯ä¸ªæ¸¸æˆçš„æˆåŠŸæ ‡å‡†ä¸åŒ
- **è·¨æ¸¸æˆæŒ‡æ ‡**ï¼šéœ€è¦ç»Ÿä¸€çš„è¯„ä¼°æ¡†æ¶

---

## ğŸ”— å…«ã€ç›¸å…³èµ„æº

- **KORGym è®ºæ–‡**ï¼šhttps://github.com/multimodal-art-projection/KORGym
- **åˆ†å±‚ç»éªŒå­¦ä¹ æ–‡æ¡£**ï¼š`åˆ†å±‚ç»éªŒå­¦ä¹ -å®Œæ•´è¿è¡ŒæŒ‡å—.md`
- **GRPO è®­ç»ƒæ–‡æ¡£**ï¼š`Training-Free_GRPOå®Œæ•´æµç¨‹è¯¦è§£.md`

---

## âœ… æ€»ç»“

é€šè¿‡å°†**åˆ†å±‚ç»éªŒå­¦ä¹ ç³»ç»Ÿ**åº”ç”¨åˆ° **KORGym**ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š

1. âœ… **ä»å…·ä½“æ¸¸æˆå›åˆä¸­æå– L0 ç»éªŒ**
2. âœ… **ä»åŒä¸€æ¸¸æˆç±»å‹ä¸­æŠ½è±¡ L1 ç­–ç•¥**
3. âœ… **ä»è·¨æ¸¸æˆç±»å‹ä¸­æç‚¼ L2 å…ƒç­–ç•¥**
4. âœ… **æŒç»­æå‡æ¨¡å‹åœ¨å¤šç§æ¸¸æˆä¸Šçš„è¡¨ç°**

è¿™ä¸ªæ–¹æ¡ˆå……åˆ†åˆ©ç”¨äº†åˆ†å±‚ç»éªŒå­¦ä¹ çš„ä¼˜åŠ¿ï¼ŒåŒæ—¶é€‚é…äº† KORGym çš„å¤šè½®äº¤äº’å’Œå¤šæ ·åŒ–æ¸¸æˆç‰¹ç‚¹ã€‚é¢„æœŸå¯ä»¥æ˜¾è‘—æå‡æ¨¡å‹åœ¨ KORGym å¹³å°ä¸Šçš„æ­£ç¡®ç‡ï¼ğŸ¯












